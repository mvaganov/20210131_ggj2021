// this JSON-like script is a list of dialogs, which will be parsed and compiled by CodeConvert.TryParse
{ } // empty dialog to start with
{ // called by our first NPC
	name = "welcome",
	options = [
		{
			="Dialog+Text"
			text = "Welcome {name}, to the NonStandard game"
		}, {
			="Dialog+Choice"
			text = "Hi. See ya around."
			command = "done"
		}, {
			="Dialog+Choice"
			text = "What is this place?"
			command = "dialog what" // a command with a parameter, like in a command-line terminal
		}
	]
}, {
	name = what
	options [
		{ =Text   text "a testing area for NonStandard code" }
		{ =Choice text "oh ok"            command "done" },
		{ =Choice text "more info please" command "dialog moreinfo" }
	]
},
// a lot of structural syntax is optional, and the wildcard character '¤' can be used if enough identifying text is given
{n¤ moreinfo o¤[{=T¤ t¤"no more info. {0} {1}"%(xp,nu¤)}{=Ch¤ t¤ okthxbye c¤ done}
{=Ch¤ t¤"please?"c¤"dialog welcome"}
{=Co¤ c¤"++ counter"}
{=Ch¤ r¤ counter>=(2*(1+1)) t¤ exit*3 c¤ exit}
]}

{n¤ blackDialog o¤[
	{=Co¤ r¤ blackGiven==0 c¤ "start blackA"}
	{=Co¤ r¤ blackGiven==1 c¤ "start blackB"}
	{=Co¤ r¤ blackGiven==2 c¤ "start blackC"}
	{=Co¤ r¤ blackGiven==3 c¤ "start blackD"}
	{=Co¤ r¤ blackGiven==4 c¤ "start blackE"}
]}
{n¤ blackA o¤[{=T¤ t¤
"I hate them for what they did. The injustice! The betrayal! They will never be forgiven! I must destroy them!"
}{=Ch¤ r¤ black_>=1 t¤ "witness their anger" c¤ "give black_;++ blackGiven;start blackDialog"}]}
{n¤ blackB o¤[{=T¤ t¤
"I found the release I've been looking for! Look at how they suffer! ... they suffer. But where is the justice I was seeking?"
}{=Ch¤ r¤ black_>=1 t¤ "witness their vengence" c¤ "give black_;++ blackGiven;start blackDialog"}]}
{n¤ blackC o¤[{=T¤ t¤
"I've endured so much of my own bitterness. The pain I thought they caused is long past. Do I cling to my own pain?"
}{=Ch¤ r¤ black_>=1 t¤ "witness their bitter hatred" c¤ "give black_;++ blackGiven;start blackDialog"}]}
{n¤ blackD o¤[{=T¤ t¤
"I forgave them. I let them go, in my mind, in my heart. They were never my prisoners to set free. Losing this hatred I have only freed myself."
}{=Ch¤ r¤ black_>=1 t¤ "witness their loss" c¤ "give black_;++ blackGiven;start blackDialog"}]}
{n¤ blackE o¤[{=T¤ t¤
"We must set others free, like you have. Be compassionate as they lose themselves, and be examples of what they can find after they have lost it."
}{=Ch¤ r¤ black_>=1 t¤ "join me" c¤ "give black_;++ blackGiven;claimplayer"}]}

